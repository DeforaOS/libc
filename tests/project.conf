targets=includes,setjmp,signal,start,stdint,tests
cppflags_force=-nostdinc -I ../include
cflags_force=-W
cflags=-Wall -g -O2 -ffreestanding
ldflags_force=-nostdlib -L ../src -Wl,-rpath,$(PWD)/../src -lc ../src/start.o
ldflags=`$(CC) -print-libgcc-file-name`
dist=Makefile,tests.sh

[includes]
type=binary
sources=includes.c

[includes.c]
depends=../src/libc.so

[setjmp]
type=binary
sources=setjmp.c

[setjmp.c]
depends=../include/setjmp.h,../src/setjmp.c

[signal]
type=binary
sources=signal.c

[signal.c]
depends=../include/signal.h,../src/signal.c

[start]
type=binary
sources=start.c

[stdint]
type=binary
sources=stdint.c

[tests]
type=script
script=./tests.sh
depends=setjmp,signal,start,stdint
