subdirs=amd64,i386
targets=libm
as=$(CC)
cppflags_force=-nostdinc -isystem ../../include -isystem ../../include/math
cflags_force=-ffreestanding -fPIC
cflags=-W -Wall -g -O2 -pedantic -fstack-protector
asflags_force=-ffreestanding -fPIC
asflags=-W -Wall -g -pedantic -c
ldflags_force=-nostdlib -lc -L.. -Wl,-z,relro -Wl,-z,now
dist=Makefile,arch.h

[libm]
type=library
sources=arch.S,math.c
install=$(LIBDIR)

[arch.S]
depends=amd64/math.S,i386/math.S

[math.c]
depends=../../include/math/math.h
